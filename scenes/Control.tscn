[gd_scene load_steps=16 format=2]

[ext_resource path="res://sprites/ui/main_game_ui_panel.png" type="Texture" id=1]
[ext_resource path="res://scripts/ui/hp_bar.gd" type="Script" id=2]
[ext_resource path="res://scenes/ui/spell_module_game_discription.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/Button_picture.tscn" type="PackedScene" id=4]
[ext_resource path="res://scripts/dash_indicator.gd" type="Script" id=6]
[ext_resource path="res://sprites/ui/spell_game_colldown_icon_background.png" type="Texture" id=7]
[ext_resource path="res://sprites/ui/health_bar_progress.png" type="Texture" id=8]
[ext_resource path="res://scripts/survive_timer.gd" type="Script" id=10]
[ext_resource path="res://sprites/blood_ord.png" type="Texture" id=11]
[ext_resource path="res://fonts/pixel_font.tres" type="DynamicFont" id=12]
[ext_resource path="res://sprites/ui/dash_progress_bar_under.png" type="Texture" id=13]
[ext_resource path="res://sprites/ui/dash_progress_bar_progress.png" type="Texture" id=14]
[ext_resource path="res://scripts/game_ui.gd" type="Script" id=15]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;
const float PI = 3.14;
uniform int amount = 300;
// fV = fill value
uniform float fV;

void fragment() {
	vec2 grid_uv = round(UV * float(amount)) / float(amount);
    vec2 uv = ((grid_uv / -0.1)) + vec2(1.25,1.25);


    float
		sdf=length(uv),c=step(sdf,.85),
		
        vB=smoothstep(.1,.9,sin(uv.x+(PI*.5))-.3),
		vBA=vB*sin(TIME*4.)*.07,
        
        fW=(sin(((TIME*1.)+uv.x)*2.)*.05)+vBA,
		bW=(sin(((TIME*-1.)+uv.x)*2.+PI)*.05)-vBA,
		
        fA=(sin(TIME*4.)*.05)*vB,
        
        fP=fV * 2.3 +(sin((TIME)*PI)*.1) - 1.1,
		
        fF=step(uv.y,(fA+fW)+fP)*c,
		bF=step(uv.y,(-fA+bW)+fP) * c;

    COLOR =
		vec4(
		(fF+(clamp(bF-fF,0.,1.)*.8))+
		clamp(pow((sdf+.01)*
		((1.-(fF+bF))*c),5.),0.,1.));
		
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/amount = 300
shader_param/fV = 1.0

[node name="game_ui" type="Control"]
anchor_left = 0.013
anchor_top = 0.035
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -14.04
margin_top = -21.0
rect_pivot_offset = Vector2( -210, 188 )
script = ExtResource( 15 )

[node name="spell_slot_panel" type="TextureRect" parent="."]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -147.0
margin_top = -77.0
margin_right = 147.0
rect_scale = Vector2( 3, 3 )
rect_pivot_offset = Vector2( 147, 77 )
texture = ExtResource( 1 )

[node name="R" type="TextureProgress" parent="spell_slot_panel"]
anchor_left = 0.805
anchor_top = 0.632
anchor_right = 0.805
anchor_bottom = 0.632
margin_left = -16.47
margin_top = -16.464
margin_right = 16.53
margin_bottom = 16.536
max_value = 60.0
value = 60.0
texture_under = ExtResource( 7 )
texture_progress_offset = Vector2( 2, 2 )
fill_mode = 3
radial_initial_angle = 360.0

[node name="Button_picture" parent="spell_slot_panel/R" instance=ExtResource( 4 )]
position = Vector2( 29, 28 )
scale = Vector2( 0.8, 0.8 )
text = "R"

[node name="Q" type="TextureProgress" parent="spell_slot_panel"]
anchor_left = 0.196
anchor_top = 0.638
anchor_right = 0.196
anchor_bottom = 0.638
margin_left = -16.624
margin_top = -16.526
margin_right = 16.376
margin_bottom = 16.474
max_value = 60.0
value = 60.0
texture_under = ExtResource( 7 )
texture_progress_offset = Vector2( 2, 2 )
fill_mode = 3
radial_initial_angle = 360.0

[node name="Button_picture" parent="spell_slot_panel/Q" instance=ExtResource( 4 )]
position = Vector2( 29, 28 )
scale = Vector2( 0.8, 0.8 )
text = "Q"

[node name="mouse_left_button" type="TextureProgress" parent="spell_slot_panel"]
anchor_left = 0.319
anchor_top = 0.622
anchor_right = 0.319
anchor_bottom = 0.622
margin_left = -16.386
margin_top = -16.494
margin_right = 16.614
margin_bottom = 16.506
max_value = 60.0
value = 60.0
texture_under = ExtResource( 7 )
texture_progress_offset = Vector2( 2, 2 )
fill_mode = 3
radial_initial_angle = 360.0

[node name="Button_picture" parent="spell_slot_panel/mouse_left_button" instance=ExtResource( 4 )]
position = Vector2( 29, 28 )
scale = Vector2( 0.8, 0.8 )
text = "LMB"

[node name="mouse_right_button" type="TextureProgress" parent="spell_slot_panel"]
anchor_left = 0.685
anchor_top = 0.632
anchor_right = 0.685
anchor_bottom = 0.632
margin_left = -16.39
margin_top = -16.464
margin_right = 16.61
margin_bottom = 16.536
max_value = 60.0
value = 60.0
texture_under = ExtResource( 7 )
texture_progress_offset = Vector2( 2, 2 )
fill_mode = 3

[node name="Button_picture" parent="spell_slot_panel/mouse_right_button" instance=ExtResource( 4 )]
position = Vector2( 29, 28 )
scale = Vector2( 0.8, 0.8 )
text = "RBM"

[node name="dash_indicator" type="TextureProgress" parent="."]
anchor_left = 0.5
anchor_top = 0.827
anchor_right = 0.5
anchor_bottom = 0.827
margin_left = -21.4599
margin_top = -65.0663
margin_right = 22.5401
margin_bottom = -22.0663
rect_scale = Vector2( 3, 3 )
rect_pivot_offset = Vector2( 22, 0 )
max_value = 1000.0
value = 1000.0
texture_under = ExtResource( 13 )
texture_progress = ExtResource( 14 )
fill_mode = 4
radial_initial_angle = 301.6
radial_fill_degrees = 116.0
radial_center_offset = Vector2( 0, 7.606 )
script = ExtResource( 6 )

[node name="blood_orb_count" type="NinePatchRect" parent="."]
visible = false
anchor_left = 1.0
anchor_right = 1.0
margin_left = -75.5598
margin_top = 25.0
margin_right = -26.5598
margin_bottom = 72.0
texture = ExtResource( 11 )

[node name="Label" type="Label" parent="blood_orb_count"]
anchor_left = -0.888
anchor_top = 0.5
anchor_right = -0.888
anchor_bottom = 0.567
margin_left = -38.488
margin_top = -39.5
margin_right = 38.512
margin_bottom = 42.6405
custom_fonts/font = ExtResource( 12 )

[node name="survive_timer" type="Label" parent="."]
visible = false
anchor_left = 0.5
anchor_right = 0.5
margin_left = -65.0
margin_top = -9.0
margin_right = 65.0
margin_bottom = 81.0
rect_pivot_offset = Vector2( 65, 0 )
custom_fonts/font = ExtResource( 12 )
script = ExtResource( 10 )

[node name="player_hp" type="Control" parent="."]
anchor_left = 0.5
anchor_top = 0.884
anchor_right = 0.5
anchor_bottom = 0.884
margin_left = -954.54
margin_top = -939.869
margin_right = -914.54
margin_bottom = -899.869
script = ExtResource( 2 )

[node name="liquid" type="TextureRect" parent="player_hp"]
modulate = Color( 0.929412, 0.152941, 0.152941, 1 )
material = SubResource( 2 )
margin_left = 811.08
margin_top = 790.2
margin_right = 1023.08
margin_bottom = 1048.2
rect_scale = Vector2( 18, 18 )
texture = ExtResource( 8 )
stretch_mode = 3

[node name="current_hp" type="Label" parent="player_hp"]
margin_left = 930.08
margin_top = 962.2
margin_right = 1142.08
margin_bottom = 1047.49
custom_fonts/font = ExtResource( 12 )
text = "50"

[node name="max_hp" type="Label" parent="player_hp"]
modulate = Color( 1, 0, 0, 0.541176 )
margin_left = 970.08
margin_top = 985.2
margin_right = 1182.08
margin_bottom = 1070.49
custom_fonts/font = ExtResource( 12 )
text = "50"

[node name="module_discription" parent="." instance=ExtResource( 3 )]
visible = false
anchor_left = 0.882
anchor_top = 0.483
anchor_right = 0.884
anchor_bottom = 0.483
margin_left = -222.809
margin_top = -242.526
margin_right = 226.373
margin_bottom = 243.474
rect_pivot_offset = Vector2( 0, 0 )
